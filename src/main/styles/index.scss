@import "./common";

:host {
  position: relative;
  @extend .fluid-container;
}

.container {
  @extend .flex-container;
  @extend .fluid-container;
  @extend .flex-columns;
  overflow: hidden;
  position: relative;
}

.hide-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

.grid {
  @extend .flex-container;
  @extend .flex-rows;
  @extend .fluid-container;
}

.scroll-container {
  overflow-x: auto;
}

.flexible-container {
  @extend .fluid-container;
  overflow-x: auto;
  overscroll-behavior: none;
}

.scroll-area {
  height: inherit;
}

.header {
  background-color: #c0c0c026;
  border-bottom: 1px solid #eeeeee;
}

.body {
  overflow-y: auto;
}

.scale {
  @extend .flex-container;
  @extend .flex-rows;
  position: relative;
  border-bottom: 1px solid #fafafa;
  background-color: #f5f5f5;
  font-weight: bold;
  &:last-child {
    border-bottom: none;
    font-weight: normal;
    background-color: white;
  }
  &__cell {
    height: 100%;
    border-right: 1px solid #eeeeee;
    @extend .flex-container;
    @extend .align-items-center;
    @extend .justify-content-center;
    position: absolute;
  }
}

.timeline-body {
  height: 100%;
  background: transparent
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><line stroke-width="2" stroke="rgb(238,238,238)" x1="0" y1="0" x2="0" y2="5"></line></svg>')
    50% repeat;
  background-size: 50px 1px;
  background-position: left 49px top 1px;
}

.virtual-scroll {
  height: 16px;
  position: absolute;
  bottom: 0;

  .fixed-container {
    border-right: none;
  }
}

.body-container {
  position: relative;
  height: 100%;
  width: 100%;
  display: flex;
  flex: 1;
}

.inner-scroller {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
}

.body-main-container {
  overflow-x: auto;
  overflow-y: hidden;
  position: relative;
}

.body-main-wrapper {
  height: 100%;
}

.grid-header {
  display: flex;
  align-items: center;
  font-weight: bold;
  overflow-x: auto;
  overflow-y: hidden;
}

.grid-body {
  position: relative;
  overflow-x: auto;
  overflow-y: hidden;
  height: 100%;
}

.grid__row {
  position: absolute;
  width: 100%;
  border-bottom: 1px solid #eeeeee;
  display: flex;
  align-items: center;
}

.timeline__row {
  position: absolute;
  width: 100%;
  border-bottom: 1px solid #eeeeee;
  display: flex;
  align-items: center;
  pointer-events: all;
}

.timeline-layer {
  position: absolute;
  left: 0;
  top: 0;
  width: inherit;
  height: inherit;
  pointer-events: none;
}

.task__container {
  position: absolute;
}

.task__wrapper {
  height: 100%;
  width: inherit;
}

.task {
  border: 1px solid #7e3ff2;
  height: 100%;
  border-radius: 3px;
  background-color: #d4bff9;
  position: absolute;
  top: 0;
  left: 0;
  width: inherit;
}

.task__progress {
  position: absolute;
  height: 100%;
  background-color: #9965f4;
}

.task__parent {
  background-color: #9e9e9e;
  border-color: #424242;
  height: 70%;
  border: none;
  border-radius: 0;

  &::after {
    content: "";
    position: absolute;
    right: 0;
    bottom: -8px;
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid #9e9e9e;
    border-top: 4px solid #9e9e9e;
    border-bottom: 4px solid transparent;
    clear: both;
  }

  &::before {
    content: "";
    position: absolute;
    left: 0;
    bottom: -8px;
    width: 0;
    height: 0;
    border-left: 4px solid #9e9e9e;
    border-right: 4px solid transparent;
    border-top: 4px solid #9e9e9e;
    border-bottom: 4px solid transparent;
    clear: both;
  }

  .task__progress {
    background-color: #616161;
  }
}

.task__milestone {
  border-color: #ffaf49;
  background-color: #ffddb0;
  display: flex;
  align-items: center;
  justify-content: center;

  .task {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .task__progress {
    background-color: #ff9e22;
    transform: rotate(45deg);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 3px;
    border: 1px solid orange;
    background-color: white;
    width: 18px !important;
    height: 18px !important;
  }
}

.grid-inner-scroller {
  display: flex;
  height: 100%;
  position: relative;
}

.grid__cell {
  display: flex;
  align-items: center;
  padding: 10px;
  height: 100%;
  border-right: 1px solid #eeeeee;
  background-color: white;

  &:last-child {
    border-right: none;
  }
  &__inner {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
  }
  &__icon {
    display: flex;
    width: 10px;
    margin-right: 3px;

    &:hover:not(.leaf) {
      cursor: pointer;
    }
  }
}

.enable-scroll {
  overflow-x: auto;
  overflow-y: hidden;
  .scroll-area {
    height: 100%;
  }
}

.grid__cell__percent {
  background-color: #fafafa;
  width: 100%;
  height: 10px;
  display: flex;
  position: relative;
}

.grid__cell__progress {
  position: absolute;
  background-color: #0091ea;
  height: 100%;
}

.x-resizer {
  position: absolute;
  height: 100%;
  width: 3px;
  background-color: #e0e0e0;
}
